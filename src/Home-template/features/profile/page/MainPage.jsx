import React, { useState, useEffect } from "react";
import "./MainPage.scss";
import BookingProfile from "../components/BookingProfile";
import UserProfile from "../components/UserProfile";
import { Button, Avatar } from "@material-ui/core";
import { Link, useHistory } from "react-router-dom";
import userApi from "services/userApi";
import PageLoading from "components/PageLoading";

function MainPage() {
  const [showMenu, setShowMenu] = useState(false);
  const [page, setPage] = useState("currentUser");
  const [mainPage, setMainPage] = useState("userProfile");
  const [userData, setUserData] = useState(null);
  const [isLoading, setIsLoading] = useState(true);
  const history = useHistory();

  const user = JSON.parse(localStorage.getItem("loginUser"));

  useEffect(() => {
    let unmount = false;
    if (!unmount) {
      const account = {
        taiKhoan: user.taiKhoan,
      };
      const fetchUserData = async () => {
        const response = await userApi.fetchUserData(account);
        setUserData(response.data);
        setIsLoading(false);
      };
      fetchUserData();
    }
    return () => {
      unmount = true;
    };
  }, [user.taiKhoan]);

  const handleShowMenu = () => {
    setShowMenu(!showMenu);
  };

  const handleChangeMainPage = (value) => {
    setMainPage(value);
  };

  const handelChangePage = (id) => {
    setPage(id);
  };

  const handleClickLogout = () => {
    localStorage.clear();
    history.push("/home");
  };

  return (
    <>
      {isLoading ? (
        <PageLoading />
      ) : (
        <div className="userProfileMain element__fadeIn">
          <div className="userProfile__header">
            <div className="userProfile__header--content">
              <Link to="/home" className="header__logo">
                <svg id="svg" version="1.1" viewBox="0, 0, 400,400">
                  <path
                    id="path0"
                    d="M5.095 30.200 C 5.854 32.838,8.706 48.398,9.237 52.800 C 9.530 55.220,10.818 62.420,12.100 68.800 C 13.382 75.180,14.991 84.180,15.675 88.800 C 16.360 93.420,17.948 102.240,19.204 108.400 C 20.460 114.560,21.694 121.475,21.945 123.767 C 22.196 126.058,23.622 133.978,25.114 141.367 C 26.606 148.755,28.064 156.780,28.354 159.200 C 28.795 162.869,29.807 168.389,33.253 185.910 C 33.643 187.890,35.801 190.229,37.833 190.874 C 38.725 191.157,41.468 192.786,43.928 194.493 C 46.387 196.201,48.800 197.598,49.290 197.599 C 49.779 197.600,51.539 198.680,53.200 200.000 C 54.861 201.320,56.595 202.400,57.054 202.400 C 57.513 202.400,60.074 203.776,62.744 205.458 C 70.045 210.057,76.032 213.663,79.600 215.611 C 81.360 216.572,84.200 218.313,85.912 219.479 C 87.623 220.646,89.299 221.600,89.637 221.600 C 90.407 221.600,95.853 229.129,96.770 231.462 C 97.146 232.418,99.277 236.260,101.506 240.000 C 103.735 243.740,106.877 249.318,108.488 252.396 C 110.099 255.474,112.269 259.108,113.309 260.471 C 114.349 261.835,115.200 263.285,115.200 263.693 C 115.200 264.101,116.630 266.587,118.377 269.217 C 120.125 271.848,121.565 274.417,121.577 274.926 C 121.590 275.435,123.219 278.315,125.198 281.326 C 127.178 284.337,128.798 287.113,128.798 287.496 C 128.799 287.879,129.727 289.679,130.860 291.496 C 134.280 296.980,138.422 304.102,141.389 309.600 C 142.932 312.460,144.691 315.368,145.298 316.063 C 145.904 316.758,146.400 317.692,146.400 318.139 C 146.400 318.586,147.841 321.181,149.602 323.905 C 151.362 326.630,153.344 330.016,154.004 331.429 C 156.522 336.816,160.909 343.002,160.366 340.400 C 159.657 336.995,153.271 313.384,149.981 302.000 C 148.455 296.720,146.884 290.780,146.489 288.800 C 146.095 286.820,144.689 281.600,143.366 277.200 C 142.043 272.800,140.717 267.940,140.419 266.400 C 140.121 264.860,138.961 260.540,137.839 256.800 C 135.942 250.472,133.773 242.330,129.526 225.600 C 128.577 221.860,126.585 214.790,125.100 209.888 C 123.615 204.987,122.400 200.249,122.400 199.359 C 122.400 198.470,121.230 196.805,119.800 195.659 C 118.370 194.513,116.817 193.270,116.350 192.896 C 115.882 192.522,114.622 191.758,113.550 191.199 C 111.589 190.175,104.990 185.930,89.787 175.912 C 85.269 172.935,80.859 170.273,79.987 169.996 C 79.114 169.719,78.400 169.144,78.400 168.718 C 78.400 168.292,76.870 167.275,75.000 166.459 C 70.974 164.702,68.024 162.074,67.939 160.169 C 67.905 159.416,67.754 158.260,67.602 157.600 C 67.451 156.940,66.411 151.360,65.292 145.200 C 64.173 139.040,62.552 130.940,61.691 127.200 C 60.830 123.460,59.867 118.255,59.550 115.634 L 58.974 110.868 61.218 112.338 C 62.452 113.147,64.753 114.552,66.331 115.461 C 67.909 116.370,70.452 118.123,71.982 119.357 C 73.513 120.591,75.106 121.600,75.524 121.600 C 76.181 121.600,80.697 124.422,89.074 130.068 C 90.324 130.910,92.304 132.152,93.474 132.828 C 94.643 133.503,97.760 135.465,100.400 137.189 C 105.426 140.470,111.577 144.405,124.107 152.354 C 128.228 154.969,134.762 159.173,138.626 161.696 C 142.490 164.219,145.939 166.400,146.290 166.542 C 146.991 166.826,151.697 182.851,152.943 189.200 C 153.375 191.400,154.915 197.520,156.365 202.800 C 157.816 208.080,159.627 215.100,160.390 218.400 C 161.154 221.700,162.603 227.100,163.610 230.400 C 164.618 233.700,165.682 237.840,165.975 239.600 C 166.267 241.360,167.531 246.580,168.782 251.200 C 173.281 267.812,176.176 278.938,178.044 286.800 C 179.090 291.200,180.538 296.780,181.263 299.200 C 181.987 301.620,183.243 306.480,184.055 310.000 C 184.866 313.520,185.881 317.660,186.310 319.200 C 188.563 327.294,190.575 334.861,192.477 342.400 C 193.643 347.020,195.233 353.320,196.012 356.400 C 196.790 359.480,197.883 364.070,198.441 366.600 C 198.999 369.130,199.716 371.200,200.035 371.200 C 200.662 371.200,200.814 370.637,202.650 361.528 C 203.323 358.188,204.953 351.888,206.272 347.528 C 207.591 343.168,208.908 338.160,209.199 336.400 C 209.490 334.640,210.964 329.011,212.475 323.892 C 213.985 318.772,215.441 313.012,215.710 311.092 C 215.978 309.171,216.997 305.080,217.974 302.000 C 219.678 296.630,220.291 294.261,222.739 283.600 C 223.345 280.960,224.628 276.100,225.591 272.800 C 226.554 269.500,227.824 264.640,228.412 262.000 C 229.001 259.360,230.428 253.600,231.584 249.200 C 232.741 244.800,233.983 239.760,234.345 238.000 C 234.707 236.240,235.972 231.560,237.157 227.600 C 238.342 223.640,239.811 218.060,240.421 215.200 C 241.032 212.340,242.117 208.020,242.833 205.600 C 243.549 203.180,244.846 198.140,245.715 194.400 C 246.584 190.660,247.759 185.980,248.327 184.000 C 248.894 182.020,250.207 177.281,251.244 173.469 C 252.892 167.418,253.440 166.379,255.565 165.280 C 256.904 164.587,258.900 163.349,260.000 162.528 C 261.100 161.707,265.060 159.120,268.800 156.780 C 278.430 150.754,283.081 147.791,287.099 145.123 C 289.024 143.845,291.724 142.119,293.099 141.286 C 296.615 139.157,305.732 133.367,318.800 124.964 C 327.352 119.465,332.179 116.400,334.600 114.933 C 335.810 114.200,337.759 112.980,338.931 112.222 L 341.062 110.844 340.505 115.586 C 340.198 118.194,339.045 124.304,337.943 129.164 C 336.840 134.024,335.045 142.860,333.954 148.800 C 332.863 154.740,331.868 160.033,331.744 160.562 C 331.379 162.111,328.592 164.869,325.960 166.286 C 321.413 168.734,318.175 170.779,297.600 184.199 C 292.540 187.499,287.523 190.653,286.450 191.208 C 285.378 191.763,284.118 192.522,283.650 192.896 C 283.183 193.270,281.630 194.513,280.200 195.659 C 278.770 196.805,277.600 198.470,277.600 199.359 C 277.600 200.249,276.385 204.987,274.900 209.888 C 273.415 214.790,271.386 222.040,270.392 226.000 C 266.908 239.868,264.186 250.058,262.163 256.800 C 261.040 260.540,259.879 264.860,259.581 266.400 C 259.283 267.940,257.964 272.800,256.649 277.200 C 255.334 281.600,253.775 287.421,253.184 290.135 C 252.594 292.849,251.162 298.069,250.003 301.735 C 248.844 305.401,247.420 310.560,246.838 313.200 C 246.256 315.840,244.529 322.320,242.999 327.600 C 238.362 343.603,239.645 345.108,246.084 331.218 C 246.793 329.688,248.435 326.894,249.731 325.009 C 251.028 323.124,252.630 320.416,253.292 318.991 C 253.953 317.566,256.438 313.160,258.814 309.200 C 261.190 305.240,264.089 300.200,265.256 298.000 C 266.424 295.800,268.187 292.920,269.174 291.600 C 270.162 290.280,271.238 288.353,271.565 287.318 C 272.126 285.542,275.002 280.762,276.789 278.634 C 277.235 278.102,277.600 277.343,277.600 276.945 C 277.600 276.548,278.521 274.866,279.647 273.206 C 280.773 271.547,282.643 268.347,283.802 266.095 C 284.960 263.843,286.681 260.920,287.624 259.600 C 288.568 258.280,290.349 255.220,291.582 252.800 C 292.815 250.380,294.674 247.286,295.712 245.924 C 296.750 244.563,297.600 243.040,297.600 242.540 C 297.600 242.040,298.860 239.661,300.400 237.254 C 301.940 234.847,303.210 232.590,303.223 232.238 C 303.235 231.887,304.666 229.440,306.402 226.800 C 309.585 221.959,310.945 220.887,322.324 214.253 C 325.583 212.354,329.425 210.080,330.863 209.200 C 333.339 207.685,343.098 201.980,350.705 197.600 C 362.625 190.737,364.729 189.450,365.453 188.574 C 366.381 187.453,369.836 171.433,371.185 162.000 C 371.688 158.480,373.321 149.300,374.814 141.600 C 376.307 133.900,377.756 125.800,378.034 123.600 C 378.313 121.400,379.740 113.480,381.206 106.000 C 382.671 98.520,384.096 90.600,384.372 88.400 C 384.648 86.200,386.099 78.100,387.597 70.400 C 389.095 62.700,390.734 53.520,391.239 50.000 C 391.745 46.480,392.842 40.389,393.678 36.465 C 395.412 28.319,395.282 27.847,391.978 30.290 C 390.657 31.267,385.891 34.315,381.388 37.063 C 376.885 39.811,371.760 43.051,370.000 44.263 C 368.240 45.475,364.640 47.820,362.000 49.474 C 359.360 51.129,354.594 54.174,351.410 56.241 C 348.225 58.308,345.438 60.000,345.217 60.000 C 344.996 60.000,342.562 61.530,339.808 63.400 C 337.053 65.270,332.704 68.060,330.141 69.600 C 327.579 71.140,324.339 73.184,322.941 74.143 C 321.544 75.101,318.205 77.158,315.522 78.714 C 312.839 80.269,310.185 82.095,309.624 82.771 C 309.063 83.447,308.203 84.000,307.713 84.000 C 307.222 84.000,304.476 85.564,301.611 87.476 C 289.400 95.620,289.025 95.857,277.790 102.533 C 274.334 104.586,271.034 106.836,270.456 107.533 C 269.877 108.230,268.998 108.804,268.502 108.809 C 268.006 108.813,265.286 110.433,262.458 112.409 C 259.630 114.384,256.884 116.000,256.356 116.000 C 255.828 116.000,254.944 116.545,254.391 117.211 C 253.524 118.256,249.812 120.686,237.300 128.400 C 235.873 129.280,233.585 130.720,232.216 131.600 C 230.847 132.480,228.126 134.153,226.168 135.317 C 223.213 137.075,222.519 137.958,222.078 140.517 C 221.787 142.213,220.326 148.640,218.832 154.800 C 217.339 160.960,214.611 172.660,212.770 180.800 C 210.929 188.940,208.044 201.360,206.358 208.400 C 204.671 215.440,202.745 224.036,202.077 227.503 C 200.275 236.847,199.727 236.847,197.920 227.503 C 196.794 221.685,194.903 213.485,187.518 182.400 C 186.002 176.020,184.282 168.280,183.695 165.200 C 183.109 162.120,181.698 156.000,180.559 151.600 C 179.421 147.200,178.187 142.167,177.818 140.417 C 177.186 137.413,170.663 132.075,164.000 129.107 C 163.340 128.813,160.280 126.940,157.200 124.945 C 154.120 122.949,149.800 120.182,147.600 118.795 C 145.400 117.407,141.080 114.674,138.000 112.720 C 134.920 110.766,131.680 108.718,130.800 108.169 C 128.995 107.041,124.788 104.381,116.948 99.408 C 114.007 97.542,109.698 94.842,107.374 93.408 C 105.050 91.974,101.279 89.450,98.996 87.800 C 96.712 86.150,94.524 84.800,94.135 84.800 C 93.421 84.800,82.903 78.140,79.200 75.342 C 78.100 74.511,76.049 73.240,74.641 72.517 C 71.875 71.095,67.043 68.025,59.839 63.111 C 57.331 61.400,55.076 60.000,54.829 60.000 C 54.583 60.000,51.955 58.427,48.990 56.505 C 46.026 54.583,40.900 51.299,37.600 49.207 C 34.300 47.116,30.700 44.754,29.600 43.959 C 28.500 43.163,23.820 40.256,19.200 37.498 C 14.580 34.739,9.782 31.654,8.539 30.641 C 5.842 28.446,4.542 28.279,5.095 30.200 "
                    stroke="none"
                    fillRule="evenodd"
                  ></path>
                </svg>
              </Link>
              <p>Thông tin cá nhân</p>
              <Button className="header__icon" onClick={handleClickLogout}>
                <i className="fas fa-sign-in-alt"></i>
              </Button>
            </div>
          </div>
          <div className="userProfile__container">
            <div
              className={
                showMenu
                  ? "userProfile__info show__menu"
                  : "userProfile__info hide__menu"
              }
            >
              <div className="userProfile__row">
                <div className="show__icon" onClick={handleShowMenu}>
                  <svg
                    id="color"
                    enableBackground="new 0 0 24 24"
                    viewBox="0 0 24 24"
                  >
                    <path d="m12 0c-6.617 0-12 5.383-12 12s5.383 12 12 12 12-5.383 12-12-5.383-12-12-12z" />
                    <path d="m12 0c-6.617 0-12 5.383-12 12s5.383 12 12 12z" />
                    <path
                      d="m12 18.25v-3.25h-5.75c-.689 0-1.25-.561-1.25-1.25v-3.5c0-.689.561-1.25 1.25-1.25h5.75v-3.25c0-.66.795-.999 1.27-.541l6.5 6.25c.147.142.23.337.23.541s-.083.399-.23.541l-6.5 6.25c-.475.456-1.27.12-1.27-.541z"
                      fill="#fff"
                    />
                    <path
                      d="m5 12h15c0 .204-.083.399-.23.541l-6.5 6.25c-.15.144-.334.209-.514.209-.385 0-.756-.298-.756-.75v-3.25h-5.75c-.689 0-1.25-.561-1.25-1.25z"
                      fill="#dedede"
                    />
                  </svg>
                </div>
                <div className="userProfile__info--content">
                  <div className="info__avatar">
                    <Avatar>{userData.hoTen.slice(0, 1).toUpperCase()}</Avatar>
                    <p>{userData.taiKhoan}</p>
                    <span>Khách hàng</span>
                  </div>
                </div>
                <div className="userProfile__info--title">
                  <div className="title__icon">
                    <svg
                      version="1.1"
                      id="Capa_1"
                      x="0px"
                      y="0px"
                      viewBox="0 0 26.39 26.39"
                    >
                      <path
                        d="M3.588,24.297c0,0-0.024,0.59,0.553,0.59c0.718,0,6.652-0.008,6.652-0.008l0.01-5.451c0,0-0.094-0.898,0.777-0.898h2.761
                    c1.031,0,0.968,0.898,0.968,0.898l-0.012,5.434c0,0,5.628,0,6.512,0c0.732,0,0.699-0.734,0.699-0.734V14.076L13.33,5.913
                    l-9.742,8.164C3.588,14.077,3.588,24.297,3.588,24.297z"
                      />
                      <path d="M0,13.317c0,0,0.826,1.524,2.631,0l10.781-9.121l10.107,9.064c2.088,1.506,2.871,0,2.871,0L13.412,1.504L0,13.317z" />
                      <polygon points="23.273,4.175 20.674,4.175 20.685,7.328 23.273,9.525" />
                    </svg>
                  </div>
                  <p>Thông tin chung</p>
                </div>
                <Button
                  className={
                    page === "currentUser"
                      ? "active"
                      : "UserProfile__info--item"
                  }
                  onClick={() => handelChangePage("currentUser")}
                >
                  <div className="item__icon">
                    <svg
                      version="1.1"
                      id="Capa_1"
                      x="0px"
                      y="0px"
                      viewBox="0 0 442 442"
                    >
                      <path
                        d="M105.4,221c0,9.391-7.609,17-17,17h-34c-9.391,0-17-7.609-17-17l0,0c0-9.391,7.609-17,17-17h34
                    C97.792,204,105.4,211.609,105.4,221L105.4,221z M105.4,112.2c0-9.391-7.609-17-17-17h-34c-9.391,0-17,7.609-17,17l0,0
                    c0,9.391,7.609,17,17,17h34C97.792,129.2,105.4,121.591,105.4,112.2L105.4,112.2z M105.4,329.801c0-9.393-7.609-17-17-17h-34
                    c-9.391,0-17,7.607-17,17l0,0c0,9.391,7.609,17,17,17h34C97.792,346.801,105.4,339.191,105.4,329.801L105.4,329.801z M404.6,54.4
                    v333.2c0,30.043-24.357,54.4-54.398,54.4h-238c-30.042,0-54.4-24.357-54.4-54.4V360.4h30.6c16.871,0,30.6-13.73,30.6-30.6
                    c0-16.871-13.729-30.602-30.6-30.602H57.8v-47.6h30.6c16.871,0,30.6-13.729,30.6-30.6s-13.729-30.6-30.6-30.6H57.8v-47.6h30.6
                    c16.871,0,30.6-13.729,30.6-30.6c0-16.871-13.729-30.6-30.6-30.6H57.8V54.4c0-30.042,24.358-54.4,54.4-54.4h238
                    C380.242,0,404.6,24.357,404.6,54.4z M188.945,161.255c0,28.968,23.487,52.455,52.455,52.455c28.969,0,52.455-23.487,52.455-52.455
                    c0-28.968-23.486-52.456-52.455-52.456C212.433,108.8,188.945,132.287,188.945,161.255z M323,289.482
                    c0-32.184-26.098-58.283-58.283-58.283H218.09c-32.191,0-58.29,26.1-58.29,58.283v23.318H323V289.482z"
                      />
                    </svg>
                  </div>
                  <p>Thông tin cá nhân</p>
                </Button>

                <Button
                  className={
                    page === "bookingTicket"
                      ? "active"
                      : "UserProfile__info--item"
                  }
                  onClick={() => handelChangePage("bookingTicket")}
                >
                  <div className="item__icon">
                    <svg viewBox="0 -31 512.00033 512">
                      <path d="m166 300.003906h271.003906c6.710938 0 12.597656-4.4375 14.414063-10.882812l60.003906-210.003906c1.289063-4.527344.40625-9.390626-2.433594-13.152344-2.84375-3.75-7.265625-5.964844-11.984375-5.964844h-365.632812l-10.722656-48.25c-1.523438-6.871094-7.617188-11.75-14.648438-11.75h-91c-8.289062 0-15 6.710938-15 15 0 8.292969 6.710938 15 15 15h78.960938l54.167968 243.75c-15.9375 6.929688-27.128906 22.792969-27.128906 41.253906 0 24.8125 20.1875 45 45 45h271.003906c8.292969 0 15-6.707031 15-15 0-8.289062-6.707031-15-15-15h-271.003906c-8.261719 0-15-6.722656-15-15s6.738281-15 15-15zm0 0" />
                      <path d="m151 405.003906c0 24.816406 20.1875 45 45.003906 45 24.8125 0 45-20.183594 45-45 0-24.8125-20.1875-45-45-45-24.816406 0-45.003906 20.1875-45.003906 45zm0 0" />
                      <path d="m362.003906 405.003906c0 24.816406 20.1875 45 45 45 24.816406 0 45-20.183594 45-45 0-24.8125-20.183594-45-45-45-24.8125 0-45 20.1875-45 45zm0 0" />
                    </svg>
                  </div>
                  <p>Vé đã đặt</p>
                </Button>
              </div>
              <div className="userProfile__left">
                <ul>
                  <li
                    className="userProfile__left--item"
                    onClick={() => handleChangeMainPage("userProfile")}
                  >
                    <div className="left__icon">
                      <svg
                        id="Capa_1"
                        enableBackground="new 0 0 512 512"
                        viewBox="0 0 512 512"
                      >
                        <g>
                          <circle cx="256" cy="119.631" r="87" />
                          <circle cx="432" cy="151.63" r="55" />
                          <circle cx="80" cy="151.63" r="55" />
                          <path d="m134.19 256.021c-21.65-17.738-41.257-15.39-66.29-15.39-37.44 0-67.9 30.28-67.9 67.49v109.21c0 16.16 13.19 29.3 29.41 29.3 70.026 0 61.59 1.267 61.59-3.02 0-77.386-9.166-134.137 43.19-187.59z" />
                          <path d="m279.81 241.03c-43.724-3.647-81.729.042-114.51 27.1-54.857 43.94-44.3 103.103-44.3 175.48 0 19.149 15.58 35.02 35.02 35.02 211.082 0 219.483 6.809 232-20.91 4.105-9.374 2.98-6.395 2.98-96.07 0-71.226-61.673-120.62-111.19-120.62z" />
                          <path d="m444.1 240.63c-25.17 0-44.669-2.324-66.29 15.39 51.965 53.056 43.19 105.935 43.19 187.59 0 4.314-7.003 3.02 60.54 3.02 16.8 0 30.46-13.61 30.46-30.34v-108.17c0-37.21-30.46-67.49-67.9-67.49z" />
                        </g>
                      </svg>
                    </div>
                    <p>Thông tin tài khoản</p>
                  </li>
                  <li
                    className="userProfile__left--item"
                    onClick={() => handleChangeMainPage("changePassword")}
                  >
                    <div className="left__icon">
                      <svg
                        id="bold"
                        enableBackground="new 0 0 24 24"
                        viewBox="0 0 24 24"
                      >
                        <path d="m18.75 9h-.75v-3c0-3.309-2.691-6-6-6s-6 2.691-6 6v3h-.75c-1.24 0-2.25 1.009-2.25 2.25v10.5c0 1.241 1.01 2.25 2.25 2.25h13.5c1.24 0 2.25-1.009 2.25-2.25v-10.5c0-1.241-1.01-2.25-2.25-2.25zm-10.75-3c0-2.206 1.794-4 4-4s4 1.794 4 4v3h-8zm5 10.722v2.278c0 .552-.447 1-1 1s-1-.448-1-1v-2.278c-.595-.347-1-.985-1-1.722 0-1.103.897-2 2-2s2 .897 2 2c0 .737-.405 1.375-1 1.722z" />
                      </svg>
                    </div>
                    <p>Thay đổi mật khẩu</p>
                  </li>
                  <li
                    className="userProfile__left--item"
                    onClick={() => handleChangeMainPage("changeProfile")}
                  >
                    <div className="left__icon">
                      <svg
                        version="1.1"
                        id="Layer_1"
                        x="0px"
                        y="0px"
                        viewBox="0 0 512 512"
                      >
                        <path
                          d="M496.659,312.107l-47.061-36.8c0.597-5.675,1.109-12.309,1.109-19.328c0-7.019-0.491-13.653-1.109-19.328l47.104-36.821
                        c8.747-6.912,11.136-19.179,5.568-29.397L453.331,85.76c-5.227-9.557-16.683-14.464-28.309-10.176l-55.531,22.293
                        c-10.645-7.68-21.803-14.165-33.344-19.349l-8.448-58.901C326.312,8.448,316.584,0,305.086,0h-98.133
                        c-11.499,0-21.205,8.448-22.571,19.456l-8.469,59.115c-11.179,5.035-22.165,11.435-33.28,19.349l-55.68-22.357
                        C76.52,71.531,64.04,76.053,58.856,85.568L9.854,170.347c-5.781,9.771-3.392,22.464,5.547,29.547l47.061,36.8
                        c-0.747,7.189-1.109,13.44-1.109,19.307s0.363,12.117,1.109,19.328l-47.104,36.821c-8.747,6.933-11.115,19.2-5.547,29.397
                        l48.939,84.672c5.227,9.536,16.576,14.485,28.309,10.176l55.531-22.293c10.624,7.659,21.781,14.144,33.323,19.349l8.448,58.88
                        C185.747,503.552,195.454,512,206.974,512h98.133c11.499,0,21.227-8.448,22.592-19.456l8.469-59.093
                        c11.179-5.056,22.144-11.435,33.28-19.371l55.68,22.357c2.688,1.045,5.483,1.579,8.363,1.579c8.277,0,15.893-4.523,19.733-11.563
                        l49.152-85.12C507.838,331.349,505.448,319.083,496.659,312.107z M256.019,341.333c-47.061,0-85.333-38.272-85.333-85.333
                        s38.272-85.333,85.333-85.333s85.333,38.272,85.333,85.333S303.08,341.333,256.019,341.333z"
                        />
                      </svg>
                    </div>
                    <p>Thay đổi thông tin cá nhân</p>
                  </li>
                </ul>
              </div>
            </div>

            {page === "bookingTicket" && <BookingProfile userData={userData} />}
            {page === "currentUser" && (
              <UserProfile userData={userData} onSubmit={mainPage} />
            )}
          </div>
        </div>
      )}
    </>
  );
}

export default MainPage;
